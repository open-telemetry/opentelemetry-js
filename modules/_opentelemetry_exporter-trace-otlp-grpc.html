<!DOCTYPE html><html class="default" lang="en" data-base=".."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@opentelemetry/exporter-trace-otlp-grpc | OpenTelemetry SDK</title><meta name="description" content="Documentation for OpenTelemetry SDK"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">OpenTelemetry SDK</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../index.html">OpenTelemetry SDK</a></li><li><a href="_opentelemetry_exporter-trace-otlp-grpc.html">@opentelemetry/exporter-trace-otlp-grpc</a></li></ul><h1>Module @opentelemetry/exporter-trace-otlp-grpc</h1></div><section class="tsd-panel tsd-typography"><a id="opentelemetry-collector-exporter-for-node-with-grpc" class="tsd-anchor"></a><h1 class="tsd-anchor-link">OpenTelemetry Collector Exporter for node with grpc<a href="#opentelemetry-collector-exporter-for-node-with-grpc" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><p><a href="https://www.npmjs.com/package/@opentelemetry/exporter-trace-otlp-grpc"><img src="https://badge.fury.io/js/%40opentelemetry%2Fexporter-trace-otlp-grpc.svg" alt="NPM Published Version"></a>
<a href="https://img.shields.io/badge/license-Apache_2.0-green.svg?style=flat"><img src="https://img.shields.io/badge/license-Apache_2.0-green.svg?style=flat" alt="Apache License"></a></p>
<p><strong>Note: This is an experimental package under active development. New releases may include breaking changes.</strong></p>
<p>This module provides a trace-exporter for OTLP (gRPC) traces using protocol version <code>v1.7.0</code>.</p>
<a id="installation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Installation<a href="#installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-3">--save</span><span class="hl-1"> </span><span class="hl-2">@opentelemetry/exporter-trace-otlp-grpc</span>
</code><button type="button">Copy</button></pre>

<a id="service-name" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Service Name<a href="#service-name" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The OpenTelemetry Collector Exporter does not have a service name configuration.
In order to set the service name, use the <code>service.name</code> resource attribute as prescribed in the <a href="https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/resource/semantic_conventions/README.md#service">OpenTelemetry Resource Semantic Conventions</a>.
To see documentation and sample code for the metric exporter, see the <a href="https://github.com/open-telemetry/opentelemetry-js/tree/main/experimental/packages/opentelemetry-exporter-metrics-otlp-grpc">exporter-metrics-otlp-grpc package</a></p>
<a id="traces-in-node---grpc" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Traces in Node - GRPC<a href="#traces-in-node---grpc" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The OTLPTraceExporter in Node expects the URL to only be the hostname. It will not work with <code>/v1/traces</code>.</p>
<pre><code class="js"><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-4">NodeTracerProvider</span><span class="hl-1">, </span><span class="hl-4">SimpleSpanProcessor</span><span class="hl-1"> } = </span><span class="hl-0">require</span><span class="hl-1">(</span><span class="hl-2">&#39;@opentelemetry/sdk-trace-node&#39;</span><span class="hl-1">);</span><br/><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-4">OTLPTraceExporter</span><span class="hl-1"> } =  </span><span class="hl-0">require</span><span class="hl-1">(</span><span class="hl-2">&#39;@opentelemetry/exporter-trace-otlp-grpc&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">collectorOptions</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-5">// url is optional and can be omitted - default is http://localhost:4317</span><br/><span class="hl-1">  </span><span class="hl-5">// Unix domain sockets are also supported: &#39;unix:///path/to/socket.sock&#39;</span><br/><span class="hl-1">  </span><span class="hl-6">url:</span><span class="hl-1"> </span><span class="hl-2">&#39;http://&lt;collector-hostname&gt;:&lt;port&gt;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">exporter</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">OTLPTraceExporter</span><span class="hl-1">(</span><span class="hl-6">collectorOptions</span><span class="hl-1">);</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">provider</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">NodeTracerProvider</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-6">spanProcessors:</span><span class="hl-1"> [</span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">SimpleSpanProcessor</span><span class="hl-1">(</span><span class="hl-6">exporter</span><span class="hl-1">)]</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">provider</span><span class="hl-1">.</span><span class="hl-0">register</span><span class="hl-1">();</span><br/><span class="hl-1">[</span><span class="hl-2">&#39;SIGINT&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;SIGTERM&#39;</span><span class="hl-1">].</span><span class="hl-0">forEach</span><span class="hl-1">(</span><span class="hl-6">signal</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">process</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-6">signal</span><span class="hl-1">, () </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-6">provider</span><span class="hl-1">.</span><span class="hl-0">shutdown</span><span class="hl-1">().</span><span class="hl-0">catch</span><span class="hl-1">(</span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-6">error</span><span class="hl-1">));</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>By default, plaintext connection is used. In order to use TLS in Node.js, provide <code>credentials</code> option like so:</p>
<pre><code class="js"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">fs</span><span class="hl-1"> = </span><span class="hl-0">require</span><span class="hl-1">(</span><span class="hl-2">&#39;fs&#39;</span><span class="hl-1">);</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">grpc</span><span class="hl-1"> = </span><span class="hl-0">require</span><span class="hl-1">(</span><span class="hl-2">&#39;@grpc/grpc-js&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-4">NodeTracerProvider</span><span class="hl-1">, </span><span class="hl-4">SimpleSpanProcessor</span><span class="hl-1"> } = </span><span class="hl-0">require</span><span class="hl-1">(</span><span class="hl-2">&#39;@opentelemetry/sdk-trace-node&#39;</span><span class="hl-1">);</span><br/><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-4">OTLPTraceExporter</span><span class="hl-1"> } =  </span><span class="hl-0">require</span><span class="hl-1">(</span><span class="hl-2">&#39;@opentelemetry/exporter-trace-otlp-grpc&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">collectorOptions</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-5">// url is optional and can be omitted - default is http://localhost:4317</span><br/><span class="hl-1">  </span><span class="hl-5">// Unix domain sockets are also supported: &#39;unix:///path/to/socket.sock&#39;</span><br/><span class="hl-1">  </span><span class="hl-6">url:</span><span class="hl-1"> </span><span class="hl-2">&#39;http://&lt;collector-hostname&gt;:&lt;port&gt;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">credentials:</span><span class="hl-1"> </span><span class="hl-6">grpc</span><span class="hl-1">.</span><span class="hl-6">credentials</span><span class="hl-1">.</span><span class="hl-0">createSsl</span><span class="hl-1">(),</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">exporter</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">OTLPTraceExporter</span><span class="hl-1">(</span><span class="hl-6">collectorOptions</span><span class="hl-1">);</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">provider</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">NodeTracerProvider</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-6">spanProcessors:</span><span class="hl-1"> [</span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">SimpleSpanProcessor</span><span class="hl-1">(</span><span class="hl-6">exporter</span><span class="hl-1">)]</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">provider</span><span class="hl-1">.</span><span class="hl-0">register</span><span class="hl-1">();</span><br/><span class="hl-1">[</span><span class="hl-2">&#39;SIGINT&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;SIGTERM&#39;</span><span class="hl-1">].</span><span class="hl-0">forEach</span><span class="hl-1">(</span><span class="hl-6">signal</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">process</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-6">signal</span><span class="hl-1">, () </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-6">provider</span><span class="hl-1">.</span><span class="hl-0">shutdown</span><span class="hl-1">().</span><span class="hl-0">catch</span><span class="hl-1">(</span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-6">error</span><span class="hl-1">));</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>To use mutual authentication, pass to the <code>createSsl()</code> constructor:</p>
<pre><code class="js"><span class="hl-1">  </span><span class="hl-11">credentials</span><span class="hl-1">: </span><span class="hl-6">grpc</span><span class="hl-1">.</span><span class="hl-6">credentials</span><span class="hl-1">.</span><span class="hl-0">createSsl</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-6">fs</span><span class="hl-1">.</span><span class="hl-0">readFileSync</span><span class="hl-1">(</span><span class="hl-2">&#39;./ca.crt&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-6">fs</span><span class="hl-1">.</span><span class="hl-0">readFileSync</span><span class="hl-1">(</span><span class="hl-2">&#39;./client.key&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-6">fs</span><span class="hl-1">.</span><span class="hl-0">readFileSync</span><span class="hl-1">(</span><span class="hl-2">&#39;./client.crt&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  ),</span>
</code><button type="button">Copy</button></pre>

<p>To generate credentials for mutual authentication, you can refer to <a href="./test/certs/regenerate.sh">the script used to generate certificates for tests here</a>.</p>
<p>The exporter can be configured to send custom metadata with each request as in the example below:</p>
<pre><code class="js"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">grpc</span><span class="hl-1"> = </span><span class="hl-0">require</span><span class="hl-1">(</span><span class="hl-2">&#39;@grpc/grpc-js&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-4">NodeTracerProvider</span><span class="hl-1">, </span><span class="hl-4">SimpleSpanProcessor</span><span class="hl-1"> } = </span><span class="hl-0">require</span><span class="hl-1">(</span><span class="hl-2">&#39;@opentelemetry/sdk-trace-node&#39;</span><span class="hl-1">);</span><br/><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-4">OTLPTraceExporter</span><span class="hl-1"> } =  </span><span class="hl-0">require</span><span class="hl-1">(</span><span class="hl-2">&#39;@opentelemetry/exporter-trace-otlp-grpc&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">metadata</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-6">grpc</span><span class="hl-1">.</span><span class="hl-0">Metadata</span><span class="hl-1">();</span><br/><span class="hl-5">// For instance, an API key or access token might go here.</span><br/><span class="hl-6">metadata</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&#39;k&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;v&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">collectorOptions</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-5">// url is optional and can be omitted - default is http://localhost:4317</span><br/><span class="hl-1">  </span><span class="hl-5">// Unix domain sockets are also supported: &#39;unix:///path/to/socket.sock&#39;</span><br/><span class="hl-1">  </span><span class="hl-6">url:</span><span class="hl-1"> </span><span class="hl-2">&#39;http://&lt;collector-hostname&gt;:&lt;port&gt;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">metadata</span><span class="hl-1">, </span><span class="hl-5">// // an optional grpc.Metadata object to be sent with each request</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">exporter</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">OTLPTraceExporter</span><span class="hl-1">(</span><span class="hl-6">collectorOptions</span><span class="hl-1">);</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">provider</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">NodeTracerProvider</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-6">spanProcessors:</span><span class="hl-1"> [</span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">SimpleSpanProcessor</span><span class="hl-1">(</span><span class="hl-6">exporter</span><span class="hl-1">)]</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">provider</span><span class="hl-1">.</span><span class="hl-0">register</span><span class="hl-1">();</span><br/><span class="hl-1">[</span><span class="hl-2">&#39;SIGINT&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;SIGTERM&#39;</span><span class="hl-1">].</span><span class="hl-0">forEach</span><span class="hl-1">(</span><span class="hl-6">signal</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">process</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-6">signal</span><span class="hl-1">, () </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-6">provider</span><span class="hl-1">.</span><span class="hl-0">shutdown</span><span class="hl-1">().</span><span class="hl-0">catch</span><span class="hl-1">(</span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-6">error</span><span class="hl-1">));</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>Note, that this will only work if TLS is also configured on the server.</p>
<a id="exporter-timeout-configuration" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Exporter Timeout Configuration<a href="#exporter-timeout-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The OTLPTraceExporter has a timeout configuration option which is the maximum time, in milliseconds, the OTLP exporter will wait for each batch export. The default value is 10000ms.</p>
<ul>
<li>
<p>To override the default timeout duration, provide <code>timeoutMillis</code> to OTLPTraceExporter with <code>collectorOptions</code>:</p>
<pre><code class="js"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">collectorOptions</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-6">timeoutMillis:</span><span class="hl-1"> </span><span class="hl-9">15000</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">// url is optional and can be omitted - default is localhost:4317</span><br/><span class="hl-1">  </span><span class="hl-5">// Unix domain sockets are also supported: &#39;unix:///path/to/socket.sock&#39;</span><br/><span class="hl-1">  </span><span class="hl-6">url:</span><span class="hl-1"> </span><span class="hl-2">&#39;&lt;collector-hostname&gt;:&lt;port&gt;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">metadata</span><span class="hl-1">, </span><span class="hl-5">// // an optional grpc.Metadata object to be sent with each request</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">exporter</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">OTLPTraceExporter</span><span class="hl-1">(</span><span class="hl-6">collectorOptions</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<blockquote>
<p>Providing <code>timeoutMillis</code> with <code>collectorOptions</code> takes precedence and overrides timeout set with environment variables.</p>
</blockquote>
</li>
</ul>
<a id="exporter-compression-configuration" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Exporter Compression Configuration<a href="#exporter-compression-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>By default no compression will be used. To use compression, set it programmatically in <code>collectorOptions</code> or with environment variables. Supported compression options: <code>gzip</code> and <code>none</code>.</p>
<pre><code class="js"><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-4">CompressionAlgorithm</span><span class="hl-1"> } = </span><span class="hl-0">require</span><span class="hl-1">(</span><span class="hl-2">&#39;@opentelemetry/exporter-trace-otlp-grpc&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">collectorOptions</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-5">// url is optional and can be omitted - default is http://localhost:4317</span><br/><span class="hl-1">  </span><span class="hl-5">// Unix domain sockets are also supported: &#39;unix:///path/to/socket.sock&#39;</span><br/><span class="hl-1">  </span><span class="hl-6">url:</span><span class="hl-1"> </span><span class="hl-2">&#39;http://&lt;collector-hostname&gt;:&lt;port&gt;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">metadata</span><span class="hl-1">, </span><span class="hl-5">// // an optional grpc.Metadata object to be sent with each request</span><br/><span class="hl-1">  </span><span class="hl-6">compression:</span><span class="hl-1"> </span><span class="hl-6">CompressionAlgorithm</span><span class="hl-1">.</span><span class="hl-4">GZIP</span><span class="hl-1">,</span><br/><span class="hl-1">};</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">exporter</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">OTLPTraceExporter</span><span class="hl-1">(</span><span class="hl-6">collectorOptions</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<blockquote>
<p>Providing <code>compression</code> with <code>collectorOptions</code> takes precedence and overrides compression set with environment variables.</p>
</blockquote>
<a id="environment-variable-configuration" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Environment Variable Configuration<a href="#environment-variable-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><table>
<thead>
<tr>
<th>Environment variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>OTEL_EXPORTER_OTLP_TRACES_COMPRESSION</td>
<td>The compression type to use on OTLP trace requests. Options include gzip. By default no compression will be used.</td>
</tr>
<tr>
<td>OTEL_EXPORTER_OTLP_COMPRESSION</td>
<td>The compression type to use on OTLP trace, metric, and log requests. Options include gzip. By default no compression will be used.</td>
</tr>
<tr>
<td>OTEL_EXPORTER_OTLP_TRACES_INSECURE</td>
<td>Whether to enable client transport security for the exporter's gRPC connection for trace requests. This option only applies to OTLP/gRPC when an endpoint is provided without the http or https scheme. Options include true or false. By default insecure is false which creates a secure connection.</td>
</tr>
<tr>
<td>OTEL_EXPORTER_OTLP_INSECURE</td>
<td>Whether to enable client transport security for the exporter's gRPC connection for trace, metric and log requests. This option only applies to OTLP/gRPC when an endpoint is provided without the http or https scheme. Options include true or false. By default insecure is false which creates a secure connection.</td>
</tr>
<tr>
<td>OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE</td>
<td>The path to the file containing trusted root certificate to use when verifying an OTLP trace server's TLS credentials. By default the host platform's trusted root certificate is used.</td>
</tr>
<tr>
<td>OTEL_EXPORTER_OTLP_CERTIFICATE</td>
<td>The path to the file containing trusted root certificate to use when verifying an OTLP trace, metric, or log server's TLS credentials. By default the host platform's trusted root certificate is used.</td>
</tr>
<tr>
<td>OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY</td>
<td>The path to the file containing private client key to use when verifying an OTLP trace client's TLS credentials. Must provide a client certificate/chain when providing a private client key. By default no client key file is used.</td>
</tr>
<tr>
<td>OTEL_EXPORTER_OTLP_CLIENT_KEY</td>
<td>The path to the file containing private client key to use when verifying an OTLP trace, metric or log client's TLS credentials. Must provide a client certificate/chain when providing a private client key. By default no client key file is used.</td>
</tr>
<tr>
<td>OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE</td>
<td>The path to the file containing trusted client certificate/chain for clients private key to use when verifying an OTLP trace server's TLS credentials. Must provide a private client key when providing a certificate/chain. By default no chain file is used.</td>
</tr>
<tr>
<td>OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE</td>
<td>The path to the file containing trusted client certificate/chain for clients private key to use when verifying an OTLP trace, metric and log server's TLS credentials. Must provide a private client key when providing a certificate/chain. By default no chain file is used.</td>
</tr>
<tr>
<td>OTEL_EXPORTER_OTLP_TRACES_TIMEOUT</td>
<td>The maximum waiting time, in milliseconds, allowed to send each OTLP trace batch. Default is 10000.</td>
</tr>
<tr>
<td>OTEL_EXPORTER_OTLP_TIMEOUT</td>
<td>The maximum waiting time, in milliseconds, allowed to send each OTLP trace and metric batch. Default is 10000.</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Settings configured programmatically take precedence over environment variables. Per-signal environment variables take precedence over non-per-signal environment variables.</p>
</blockquote>
<a id="running-opentelemetry-collector-locally-to-see-the-traces" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Running opentelemetry-collector locally to see the traces<a href="#running-opentelemetry-collector-locally-to-see-the-traces" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><ol>
<li>Go to <code>examples/otlp-exporter-node</code></li>
<li>Follow the instructions there to inspect traces.</li>
</ol>
<a id="useful-links" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Useful links<a href="#useful-links" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>For more information on OpenTelemetry, visit: <a href="https://opentelemetry.io/">https://opentelemetry.io/</a></li>
<li>For more about OpenTelemetry JavaScript: <a href="https://github.com/open-telemetry/opentelemetry-js">https://github.com/open-telemetry/opentelemetry-js</a></li>
<li>For help or feedback on this project, join us in <a href="https://github.com/open-telemetry/opentelemetry-js/discussions">GitHub Discussions</a></li>
</ul>
<a id="license" class="tsd-anchor"></a><h2 class="tsd-anchor-link">License<a href="#license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Apache 2.0 - See <a href="https://github.com/open-telemetry/opentelemetry-js/blob/main/LICENSE">LICENSE</a> for more information.</p>
</section><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Classes"><h2><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg> Classes</h2></summary><dl class="tsd-member-summaries"><dt class="tsd-member-summary"><a id="otlptraceexporter" class="tsd-anchor"></a><span class="tsd-member-summary-name"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Class"><use href="../assets/icons.svg#icon-128"></use></svg><a href="../classes/_opentelemetry_exporter-trace-otlp-grpc.OTLPTraceExporter.html">OTLPTraceExporter</a><a href="#otlptraceexporter" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></span></dt><dd class="tsd-member-summary"></dd></dl></details></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#opentelemetry-collector-exporter-for-node-with-grpc"><span>Open<wbr/>Telemetry <wbr/>Collector <wbr/>Exporter for node with grpc</span></a><ul><li><a href="#installation"><span>Installation</span></a></li><li><a href="#service-name"><span>Service <wbr/>Name</span></a></li><li><a href="#traces-in-node---grpc"><span>Traces in <wbr/>Node -<wbr/> GRPC</span></a></li><li><a href="#exporter-timeout-configuration"><span>Exporter <wbr/>Timeout <wbr/>Configuration</span></a></li><li><a href="#exporter-compression-configuration"><span>Exporter <wbr/>Compression <wbr/>Configuration</span></a></li><li><a href="#environment-variable-configuration"><span>Environment <wbr/>Variable <wbr/>Configuration</span></a></li><li><a href="#running-opentelemetry-collector-locally-to-see-the-traces"><span>Running opentelemetry-<wbr/>collector locally to see the traces</span></a></li><li><a href="#useful-links"><span>Useful links</span></a></li><li><a href="#license"><span>License</span></a></li></ul><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Classes"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Classes</summary><div><a href="#otlptraceexporter" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Class"><use href="../assets/icons.svg#icon-128"></use></svg><span>OTLPTrace<wbr/>Exporter</span></a></div></details></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../index.html">OpenTelemetry SDK</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
